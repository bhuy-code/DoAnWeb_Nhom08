<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Chi tiết đơn hàng · Clothify</title>
  <meta name="description" content="Xem chi tiết và thanh toán đơn hàng của bạn tại Clothify">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="page-user" data-orders-view="detail">

<header class="header">
  <div class="container">
    <nav class="nav" aria-label="Primary">
      <a href="index.html" class="brand">
        <span class="logo" aria-hidden="true"></span>
        <span>Clothify</span>
      </a>
      <div>
        <a href="index.html">Trang chủ</a>
        <a href="products.html">Sản phẩm</a>
        <a href="cart.html" style="position: relative;">
          Giỏ hàng
          <span id="cart-counter" class="cart-badge"></span>
        </a>
        <a href="about.html">Giới thiệu</a>
        <a href="contact.html">Liên hệ</a>
      </div>
      <div class="cta">
        <a class="btn ghost" href="login.html" aria-label="Đăng nhập">Đăng nhập</a>
        <a class="btn primary" href="products.html" aria-label="Mua ngay">Mua ngay</a>
      </div>
    </nav>
  </div>
</header>

<main class="page-content">
  <div class="container">
    <section class="section order-detail-section">
      <div class="section-header">
        <h2>Chi tiết đơn hàng</h2>
        <a href="my-orders.html" class="btn ghost" id="back-to-orders">← Quay lại danh sách</a>
      </div>

      <div class="order-detail-card" id="order-detail">
        <div class="order-detail-header">
          <div>
            <h3 id="order-id">Đơn hàng #DH1704067200001</h3>
            <p class="muted" id="order-created">Tạo lúc 15/01/2025, 10:30:00</p>
          </div>
          <div class="order-badges">
            <span class="badge badge-warning" id="order-status">Chờ xác nhận</span>
            <span class="badge badge-warning payment-badge" id="order-payment-status">Chưa thanh toán</span>
          </div>
        </div>

        <div class="order-summary-grid">
          <div>
            <span class="muted small">Phương thức thanh toán</span>
            <p id="order-payment-method">Chưa thanh toán</p>
          </div>
          <div>
            <span class="muted small">Trạng thái giao hàng</span>
            <p id="order-shipping-status">Chờ xác nhận</p>
          </div>
          <div>
            <span class="muted small">Thời gian thanh toán</span>
            <p id="order-paid-at">Chưa thanh toán</p>
          </div>
        </div>

        <div class="order-items-wrapper">
          <table class="table order-items-table">
            <thead>
              <tr>
                <th>Sản phẩm</th>
                <th>Size</th>
                <th>Số lượng</th>
                <th>Đơn giá</th>
                <th>Tạm tính</th>
              </tr>
            </thead>
            <tbody id="order-items">
              <!-- DỮ LIỆU MẪU HTML TĨNH -->
              <tr>
                <td class="order-item-name">
                  <div class="order-item">
                    <img src="https://product.hstatic.net/1000184601/product/women_nau-nhat__2__47206564af004145addea15a2b71c162_2048x2048.jpg" alt="Áo thun basic Form Nữ" class="order-item__thumb" onerror="this.src='https://via.placeholder.com/60x60?text=SP';">
                    <span>Áo thun basic Form Nữ màu cổ điển</span>
                  </div>
                </td>
                <td><span class="badge">M</span></td>
                <td>2</td>
                <td>199.000₫</td>
                <td>398.000₫</td>
              </tr>
              <tr>
                <td class="order-item-name">
                  <div class="order-item">
                    <img src="https://product.hstatic.net/1000184601/product/men_vang-sundress__5__a2dca065fd0547209ea90ecf86ff9782_2048x2048.jpg" alt="Áo thun Basic Nam" class="order-item__thumb" onerror="this.src='https://via.placeholder.com/60x60?text=SP';">
                    <span>Áo thun Basic Nam mẫu Typo</span>
                  </div>
                </td>
                <td><span class="badge">L</span></td>
                <td>1</td>
                <td>249.000₫</td>
                <td>249.000₫</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="order-total-row">
          <span>Tổng cộng</span>
          <strong id="order-total">647.000₫</strong>
        </div>

        <div class="payment-section" id="payment-section">
          <h3>Thanh toán đơn hàng</h3>
          <form id="payment-form">
            <div class="shipping-info" style="margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid #eee;">
            <div style="margin-bottom: 15px;">
              <label style="display:block; font-weight:600; margin-bottom:10px;">Chọn địa chỉ giao hàng</label>
              <div style="display:flex; gap:10px; margin-bottom:10px;">
                <label style="display:flex; align-items:center; gap:5px; cursor:pointer;">
                  <input type="radio" name="address-source" value="account" id="address-from-account" checked>
                  <span>Dùng địa chỉ từ tài khoản</span>
                </label>
                <label style="display:flex; align-items:center; gap:5px; cursor:pointer;">
                  <input type="radio" name="address-source" value="custom" id="address-custom">
                  <span>Nhập địa chỉ mới</span>
                </label>
              </div>
              <div id="account-address-preview" style="background:#f0f7ff; padding:12px; border-radius:8px; border:1px solid #d6e2ff; margin-bottom:10px;">
                <p style="margin:5px 0;"><strong>Email:</strong> <span id="preview-email">example@email.com</span></p>
                <p style="margin:5px 0;"><strong>SĐT:</strong> <span id="preview-phone">0901234567</span></p>
                <p style="margin:5px 0;"><strong>Địa chỉ:</strong> <span id="preview-address">123 Đường ABC, Phường 1, Quận 1, TP.HCM</span></p>
              </div>
              <div id="custom-address-fields" style="display:none;">
                <div style="margin-bottom: 15px;">
                  <label for="customer-email" style="display:block; font-weight:600; margin-bottom:5px;">Email người nhận <span style="color:red">*</span></label>
                  <input type="email" id="customer-email" class="input" placeholder="Ví dụ: example@email.com" 
                         style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
                </div>
                <div style="margin-bottom: 15px;">
                  <label for="customer-phone" style="display:block; font-weight:600; margin-bottom:5px;">Số điện thoại người nhận <span style="color:red">*</span></label>
                  <input type="tel" id="customer-phone" class="input" placeholder="Ví dụ: 0901234567" 
                         style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
                </div>
                <div style="margin-bottom: 15px;">
                  <label for="customer-address" style="display:block; font-weight:600; margin-bottom:5px;">Địa chỉ nhận hàng <span style="color:red">*</span></label>
                  <input type="text" id="customer-address" class="input" placeholder="Số nhà, tên đường, phường/xã, quận/huyện..." 
                         style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px;">
                </div>
              </div>
            </div>

            <div style="margin-bottom: 15px;">
              <label for="customer-note" style="display:block; font-weight:600; margin-bottom:5px;">Ghi chú (Tùy chọn)</label>
              <textarea id="customer-note" class="input" placeholder="Ví dụ: Giao hàng giờ hành chính, gọi trước khi giao..." 
                        style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px; min-height:80px; font-family:inherit;"></textarea>
            </div>
          </div>
            <div class="payment-options">
              <label class="payment-option">
                <input type="radio" name="payment-method" value="cod" checked>
                <span>
                  <strong>Thanh toán khi nhận hàng (COD)</strong>
                  <small>Thanh toán trực tiếp cho nhân viên giao hàng.</small>
                </span>
              </label>
              <label class="payment-option">
                <input type="radio" name="payment-method" value="qr">
                <span>
                  <strong>Chuyển khoản bằng QR</strong>
                  <small>Quét mã QR để thanh toán online nhanh chóng.</small>
                </span>
              </label>
              <label class="payment-option">
                <input type="radio" name="payment-method" value="online">
                <span>
                  <strong>Thanh toán trực tuyến</strong>
                  <small>Thanh toán qua cổng thanh toán online.</small>
                </span>
              </label>
            </div>
            <div class="qr-preview" id="qr-preview" hidden>
              <div class="qr-box">
                <div class="qr-placeholder">QR</div>
              </div>
              <p class="muted small">Quét mã bằng ứng dụng ngân hàng hoặc ví điện tử của bạn.</p>
            </div>
            <button class="btn success" type="submit">Xác nhận thanh toán</button>
            <p class="form-error" id="payment-error"></p>
          </form>
          <p class="muted" id="payment-note"></p>
        </div>
      </div>
    </section>
  </div>
</main>

<footer class="footer">
  <div class="container">
    <div class="grid">
      <div style="grid-column:span 6;">
        <a href="index.html" class="brand"><span class="logo"></span><span>Clothify</span></a>
        <p class="small">Cửa hàng thời trang hiện đại – phong cách, bền vững và hợp túi tiền.</p>
      </div>
      <div style="grid-column:span 6;text-align:right;">
        <div class="small">© 2025 Clothify. All rights reserved.</div>
      </div>
    </div>
  </div>
</footer>

<script src="assets/js/script.js"></script>
<script>
// BỎ HẾT JS - CHỈ HIỂN THỊ THÔNG BÁO
document.addEventListener('DOMContentLoaded', () => {
  const paymentForm = document.getElementById('payment-form');
  if (paymentForm) {
    paymentForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      // CHỈ HIỂN THỊ THÔNG BÁO - KHÔNG LƯU ĐƠN HÀNG
      const successMsg = document.createElement('div');
      successMsg.className = 'form-success';
      successMsg.style.cssText = 'position: fixed; top: 20px; right: 20px; padding: 15px 20px; background: #e0ffe0; border: 2px solid #a0ffa0; border-radius: 8px; font-weight: 600; color: #2d5a2d; z-index: 10000; box-shadow: 0 4px 6px rgba(0,0,0,0.1);';
      successMsg.textContent = `✓ Đã thanh toán thành công!`;
      document.body.appendChild(successMsg);
      setTimeout(() => successMsg.remove(), 3000);
      
      // Reset form
      paymentForm.reset();
    });
  }
  
  // Xử lý chuyển đổi địa chỉ
  const addressFromAccount = document.getElementById('address-from-account');
  const addressCustom = document.getElementById('address-custom');
  const customAddressFields = document.getElementById('custom-address-fields');
  const accountAddressPreview = document.getElementById('account-address-preview');
  
  if (addressFromAccount && addressCustom && customAddressFields && accountAddressPreview) {
    addressFromAccount.addEventListener('change', () => {
      if (addressFromAccount.checked) {
        customAddressFields.style.display = 'none';
        accountAddressPreview.style.display = 'block';
      }
    });
    addressCustom.addEventListener('change', () => {
      if (addressCustom.checked) {
        customAddressFields.style.display = 'block';
        accountAddressPreview.style.display = 'none';
      }
    });
  }
  
  // Xử lý QR preview
  const qrPreview = document.getElementById('qr-preview');
  const paymentMethods = document.querySelectorAll('input[name="payment-method"]');
  paymentMethods.forEach(radio => {
    radio.addEventListener('change', () => {
      if (qrPreview) {
        qrPreview.hidden = (radio.value !== 'qr');
      }
    });
  });
});
</script>
</body>
</html>

